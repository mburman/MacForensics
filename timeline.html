<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <script>
      localhost = "http://localhost:8000/";
      Timeline_ajax_url=localhost + "js/timeline_2.3.0/timeline_ajax/simile-ajax-api.js";
      Timeline_urlPrefix=localhost + "js/timeline_2.3.0/timeline_js/";
      Timeline_parameters='bundle=true';

      // Load initial script.
      timeline_src=localhost + "js/timeline_2.3.0/timeline_js/timeline-api.js?bundle=true";
      element = document.createElement('script');
      element.src = timeline_src;
      document.getElementsByTagName('head')[0].appendChild(element);
    </script>

    <script>
      var tl;
      function onLoad() {
        var theme = Timeline.ClassicTheme.create();
        theme.event.bubble.width = 350;
        theme.event.bubble.height = 300;
        theme.event.track.height = 15;
        theme.event.tape.height = 8;

        var eventSource = new Timeline.DefaultEventSource();
        var bandInfos = [
        Timeline.createBandInfo({
          eventSource:    eventSource,
          date:           "Jun 28 2011 00:00:00 GMT",
          width:          "70%",
          intervalUnit:   Timeline.DateTime.MONTH,
          intervalPixels: 300,
          theme: theme,
          layout: 'original'
        }),
        Timeline.createBandInfo({
          eventSource:    eventSource,
          date:           "Jun 28 2011 00:00:00 GMT",
          width:          "30%",
          intervalUnit:   Timeline.DateTime.YEAR,
          intervalPixels: 300,
          overview: true,
          theme: theme,
          layout: 'original'
        })
        ];
        bandInfos[1].syncWith = 0;
        bandInfos[1].highlight = true;

        tl = Timeline.create(document.getElementById("my-timeline"), bandInfos);
        Timeline.loadJSON("gen/json_file.json", function(json, url) {
          eventSource.loadJSON(json, url);
        });
      }

      var resizeTimerID = null;
      function onResize() {
        if (resizeTimerID == null) {
          resizeTimerID = window.setTimeout(function() {
            resizeTimerID = null;
            tl.layout();
          }, 500);
        }
      }
    </script>
  </head>

  <body onload="onLoad();" onresize="onResize();">
    <div id="my-timeline" style="height: 350px; border: 1px solid #aaa"></div>
    <noscript>
      This page uses Javascript to show you a Timeline. Please enable Javascript
      in your browser to see the full page. Thank you.
    </noscript>
  </body>
</html>

